let e=document.querySelectorAll(".yes"),t=document.querySelectorAll(".no"),l=document.querySelectorAll(".save"),o=document.querySelectorAll(".txtError"),n=document.querySelectorAll(".insertReadTanck"),r=document.querySelectorAll(".readDelet"),a=document.querySelectorAll(".insertText"),u=document.querySelectorAll(".txtBack"),c=document.querySelectorAll(".txtNext"),d=document.querySelectorAll(".txtTotal"),s=new Date,y=document.querySelectorAll(".tbody"),g=(document.querySelector(".div1"),document.querySelector(".div2"),document.querySelector(".div3"),document.querySelectorAll(".showTable")),S=document.querySelectorAll(".btnShow"),m=document.querySelectorAll(".btnHide"),v=document.querySelectorAll(".form"),f=(document.querySelector(".insertDetailsCar"),document.querySelector(".nameCar")),b=document.querySelector(".nameDrivCar"),$=document.querySelector(".sizeCar"),p=document.querySelector(".palce"),q=document.querySelector(".btnExit"),k=(document.querySelector(".box-login"),document.querySelector(".badyPrograms")),x=document.querySelector(".user-login"),h=document.querySelector(".pass-login"),N=document.querySelector(".login"),O=document.querySelector(".valueUser"),A=(document.querySelector(".user"),document.querySelector(".btn-login"));null!=localStorage.userName?(O.innerHTML=localStorage.getItem("userName"),"عبدالمعز"===O.innerHTML&&(N.style.display="none",k.style.display="block")):(N.style.display="block",k.style.display="none"),A.onclick=function(){"عبدالمعز"===x.value&&"1234567890"==h.value&&(N.style.display="none",k.style.display="block",localStorage.setItem("userName",x.value),O.innerHTML=x.value)},q.onclick=function(){localStorage.removeItem("userName"),k.style.display="none",N.style.display="block",x.value="",h.value=""};for(let J=0;J<S.length;J++)S[J].onclick=function(){g[J].style.display="block",S[J].style.display="none",m[J].style.display="block",v[J].style.display="none"},m[J].onclick=function(){g[J].style.display="none",S[J].style.display="block",m[J].style.display="none",v[J].style.display="block"};for(let D=0;D<e.length;D++)e[D].onclick=function(){o[D].value="لا توجد مشاكل"};for(let L=0;L<t.length;L++)t[L].onclick=function(){o[L].removeAttribute("readonly"),o[L].value=""};for(let w=0;w<n.length;w++){let P,j;function T(){j=+c[w].value,u[w].value=j}function C(){P=a[w].value,c[w].value=P,a[w].value=""}n[w].onclick=function(){""!=a[w].value&&(d[w].style.backgroundColor="#0f0",T(),C(),d[w].value=+c[w].value-u[w].value)}}document.querySelector(".nameCar1").onclick=function(){f.value=document.querySelector('input[name="NameCar"]:checked').value},document.querySelector(".nameCar2").onclick=function(){f.value=document.querySelector('input[name="NameCar"]:checked').value};let M=[undefined,undefined,undefined,undefined,undefined];null!=localStorage.box0?M[0]=JSON.parse(localStorage.box0):M[0]=[],null!=localStorage.box1?M[1]=JSON.parse(localStorage.box1):M[1]=[],null!=localStorage.box2?M[2]=JSON.parse(localStorage.box2):M[2]=[],null!=localStorage.box3?M[3]=JSON.parse(localStorage.box3):M[3]=[],null!=localStorage.box4?M[4]=JSON.parse(localStorage.box4):M[4]=[];for(let B=0;B<5;B++)l[B].onclick=function(){B>=0&&B<3?((""!=c[B].value||""!=o[B].value&&""!=c[B].value)&&(ObjProg={user:O.innerHTML,date:`${s.getFullYear()}/${s.getMonth()+1}/${s.getDate()}`,time:`${s.getHours()}:${s.getMinutes()}:${s.getSeconds()}`,readNow:+c[B].value,readBack:+u[B].value,readTotal:+d[B].value,error:o[B].value},M[B].push(ObjProg)),localStorage.setItem(`box${B}`,JSON.stringify(M[B]))):3==B?(""==o[B].value&&""==f.value||(ObjProg={user:O.innerHTML,date:`${s.getFullYear()}/${s.getMonth()+1}/${s.getDate()}`,time:`${s.getHours()}:${s.getMinutes()}:${s.getSeconds()}`,typeCar:f.value,nameDriver:b.value,sizeInCar:$.value,palceCar:p.value,error:o[B].value},M[B].push(ObjProg)),localStorage.setItem(`box${B}`,JSON.stringify(M[B]))):4==B&&(""!=o[B].value&&(ObjProg={user:O.innerHTML,date:`${s.getFullYear()}/${s.getMonth()+1}/${s.getDate()}`,time:`${s.getHours()}:${s.getMinutes()}:${s.getSeconds()}`,error:o[B].value},M[B].push(ObjProg)),localStorage.setItem(`box${B}`,JSON.stringify(M[B])))};let H=["","","","",""];function I(e){if(""!=M[e])for(i=0;i<M[e].length;i++)0!=M[e][i].readNow&&(c[e].value=M[e][M[e].length-1].readNow,u[e].value=M[e][M[e].length-1].readBack,d[e].value=M[e][M[e].length-1].readTotal)}!function(){for(let e=0;e<M.length;e++)if(e>=0&&e<3){for(let t=0;t<M[e].length;t++)H[e]+=`\n                <tr>\n                    <td>${t+1}</td>\n                    <td>${M[e][t].user}</td>\n                    <td>${M[e][t].date}</td>\n                    <td>${M[e][t].time}</td>\n                    <td>${M[e][t].readNow}</td>\n                    <td>${M[e][t].readBack}</td>\n                    <td>${M[e][t].readTotal}</td>\n                    <td>${M[e][t].error}</td>\n                    \n                </tr>\n                `;y[e].innerHTML=H[e]}else if(3==e){for(let t=0;t<M[e].length;t++)H[e]+=`\n                <tr>\n                    <td>${t+1}</td>\n                    <td>${M[e][t].user}</td>\n                    <td>${M[e][t].date}</td>\n                    <td>${M[e][t].time}</td>\n                    <td>${M[e][t].typeCar}</td>\n                    <td>${M[e][t].nameDriver}</td>\n                    <td>${M[e][t].sizeInCar}</td>\n                    <td>${M[e][t].palceCar}</td>\n                    <td>${M[e][t].error}</td>\n                    \n                </tr>\n                `;y[e].innerHTML=H[e]}else if(4==e){for(let t=0;t<M[e].length;t++)H[e]+=`\n                <tr>\n                    <td>${t+1}</td>\n                    <td>${M[e][t].user}</td>\n                    <td>${M[e][t].date}</td>\n                    <td>${M[e][t].time}</td>\n                    <td>${M[e][t].error}</td>\n                    <td>\n                        <input type="button" value="اصلاح" class="btn" style="background-color:green;color:#fff">\n                    </td>\n                </tr>\n                `;y[e].innerHTML=H[e]}}(),I(0),I(1),I(2),r[0].onclick=function(){null!=localStorage.box0&&(M[0].pop(),localStorage.setItem("box0",JSON.stringify(M[0])))},r[1].onclick=function(){null!=localStorage.box1&&(M[1].pop(),localStorage.setItem("box1",JSON.stringify(M[1])))},r[2].onclick=function(){null!=localStorage.box2&&(M[2].pop(),localStorage.setItem("box2",JSON.stringify(M[2])))};